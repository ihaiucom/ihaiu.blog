---
layout: post
title: Laya3D性能测试
date: 2019-01-30 9:50:00
categories: Shader
tags: Shader
excerpt: Laya3D性能测试
shareexcerpt: Laya3D性能测试
thread: 20181018160000
author: 大海明月
authorQQ: 593705098
authorEmail: zengfeng75@qq.com
thumbnail: 

sh: true
sh_csharp: true
---





<br>
<br>
<h2 class="nav1">测试环境</h2>

* 平台：微信小游戏
* 设备：iPhone6s


<br>
<br>
<h2 class="nav1">场景测试</h2>

<p><img src="/assets/doc/Laya3D性能测试.files/image002.gif" width="513" height="251" style="border: solid 1px #666;" /></p>

<p><img src="/assets/doc/Laya3D性能测试.files/image004.gif" width="524" height="931" style="border: solid 1px #666;" /></p>


* 支持Lightmapping
* 渲染效果还行
* 帧率58--60



<br>
<br>
<h2 class="nav1">角色测试</h2>


### 单个角色信息


<p><img src="/assets/doc/Laya3D性能测试.files/image006.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>


19个角色: 帧率在 57--60,  骨骼数量475


<p><img src="/assets/doc/Laya3D性能测试.files/image008.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>

到达20个帧率极具下降: 帧率30--50,  骨骼数量500

<p><img src="/assets/doc/Laya3D性能测试.files/image010.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>
<br>



### 不播放动画情况

屏幕内, 三角面：20万 ， 角色数量: 301, 帧率在57--59

<p><img src="/assets/doc/Laya3D性能测试.files/image012.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>



屏幕内, 三角面：26.6474 万， 角色数量: 401, 帧率在50--52
<p><img src="/assets/doc/Laya3D性能测试.files/image014.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>


<br>
<br>
<h2 class="nav1">测个球</h2>

只留下渲染组件


<p><img src="/assets/doc/Laya3D性能测试.files/image016.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>


单个面数768


<p><img src="/assets/doc/Laya3D性能测试.files/image018.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>


同屏面数在20万左右时，帧率在57--60


<p><img src="/assets/doc/Laya3D性能测试.files/image020.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>


同屏面数在30.8万左右时，帧率在45--56， 稳定在50左右


<p><img src="/assets/doc/Laya3D性能测试.files/image022.gif" width="524" height="931" style="border: solid 1px #666;" /></p>
<br>


全场景有30万个三角面，屏幕内有9.6万个三角面，帧率在57--60


<p><img src="/assets/doc/Laya3D性能测试.files/image024.gif" width="524" height="931" style="border: solid 1px #666;" /></p>

<br>
<br>
<h2 class="nav1">初步总结</h2>

* 面数：纯三角面同屏不能超过20万
* 骨骼： 骨骼数量全场景总骨骼数量不能超过450， 如果一个角色骨骼数量25，不能超过18个角色在屏幕中动画
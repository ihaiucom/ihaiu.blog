<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="989" height="1370" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Created with Raphaël 2.1.2StartSetAuthInfo(accountId, session)设置账号信息Connect(ip, prot)连接服务器,设置状态为CreateS2C 随机因子，并设置状态为ConnectedC2S 第一次验证S2C 验证结果设置状态为AuthSuccessed断开连接EndC2S 断线重连验证yesnoyesno]]></source><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.2</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block-obj117" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><marker id="raphael-marker-endblock33-obj118" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block-obj117" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker></defs><a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://blog.ihaiu.com" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" target="_blank"></a><a xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://blog.ihaiu.com" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" target="_blank"><rect x="0" y="0" width="51.671875" height="36.5" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="st" transform="matrix(1,0,0,1,203.832,98.584)"></rect><text x="10" y="18.25" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="stt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,203.832,98.584)" stroke-width="1"><tspan dy="5.25" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Start</tspan></text></a><rect x="0" y="0" width="322.609375" height="36.65625" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="SetAuthInfo" transform="matrix(1,0,0,1,68.3633,283.5898)"></rect><text x="10" y="18.328125" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="SetAuthInfot" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,68.3633,283.5898)" stroke-width="1"><tspan dy="5.171875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">SetAuthInfo(accountId, session)设置账号信息</tspan></text><rect x="0" y="0" width="330.890625" height="36.65625" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="Connect" transform="matrix(1,0,0,1,64.2227,468.752)"></rect><text x="10" y="18.328125" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="Connectt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,64.2227,468.752)" stroke-width="1"><tspan dy="5.171875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Connect(ip, prot)连接服务器,设置状态为Create</tspan></text><path fill="#ffffff" stroke="#000000" d="M112.833984375,56.4169921875L0,112.833984375L225.66796875,225.66796875L451.3359375,112.833984375L225.66796875,0L0,112.833984375" stroke-width="2" id="S2C_RandFactor" class="flowchart" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,4,559.4082)"></path><text x="117.833984375" y="112.833984375" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="S2C_RandFactort" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,4,559.4082)" stroke-width="1"><tspan dy="5.255859375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">S2C 随机因子，并设置状态为Connected</tspan></text><rect x="0" y="0" width="128.34375" height="36.5" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="C2S_FirstAuth" transform="matrix(1,0,0,1,165.4961,933.6602)"></rect><text x="10" y="18.25" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="C2S_FirstAutht" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,165.4961,933.6602)" stroke-width="1"><tspan dy="5.25" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">C2S 第一次验证</tspan></text><path fill="#ffffff" stroke="#000000" d="M46.25390625,23.126953125L0,46.25390625L92.5078125,92.5078125L185.015625,46.25390625L92.5078125,0L0,46.25390625" stroke-width="2" id="S2C_AuthResult" class="flowchart" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,137.1602,1090.7402)"></path><text x="51.25390625" y="46.25390625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="S2C_AuthResultt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,137.1602,1090.7402)" stroke-width="1"><tspan dy="5.25390625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">S2C 验证结果</tspan></text><rect x="0" y="0" width="199.21875" height="36.5" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="Run" transform="matrix(1,0,0,1,130.0586,1331.832)"></rect><text x="10" y="18.25" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="Runt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,130.0586,1331.832)" stroke-width="1"><tspan dy="5.25" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">设置状态为AuthSuccessed</tspan></text><rect x="0" y="0" width="80" height="36.5" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="Disconnect" transform="matrix(1,0,0,1,561.8438,1118.7441)"></rect><text x="10" y="18.25" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="Disconnectt" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,561.8438,1118.7441)" stroke-width="1"><tspan dy="5.25" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">断开连接</tspan></text><rect x="0" y="0" width="46.6875" height="36.5" r="20" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="e" transform="matrix(1,0,0,1,578.5,1303.8281)"></rect><text x="10" y="18.25" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="et" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,578.5,1303.8281)" stroke-width="1"><tspan dy="5.25" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">End</tspan></text><rect x="0" y="0" width="143.34375" height="36.5" r="0" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="C2S_ReAuth" transform="matrix(1,0,0,1,663.332,653.9922)"></rect><text x="10" y="18.25" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" id="C2S_ReAutht" class="flowchartt" font-size="15px" transform="matrix(1,0,0,1,663.332,653.9922)" stroke-width="1"><tspan dy="5.25" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">C2S 断线重连验证</tspan></text><path fill="none" stroke="#000000" d="M229.66796875,135.083984375C229.66796875,135.083984375,229.66796875,259.5601577437483,229.66796875,280.58982375233563" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M229.66796875,320.24609375C229.66796875,320.24609375,229.66796875,444.7222671187483,229.66796875,465.75193312733563" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M229.66796875,505.408203125C229.66796875,505.408203125,229.66796875,545.0623030662537,229.66796875,556.4086422096007" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M229.66796875,785.076171875C229.66796875,785.076171875,229.66796875,909.6178288622759,229.66796875,930.6585580212591" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="234.66796875" y="795.076171875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.185546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M455.3359375,672.2421875C455.3359375,672.2421875,634.8277343043592,672.2421875,660.3316956666972,672.2421875" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="460.3359375" y="662.2421875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.2578125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M229.66796875,970.16015625C229.66796875,970.16015625,229.66796875,1069.1379054832505,229.66796875,1087.7445624436027" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M229.66796875,1183.248046875C229.66796875,1183.248046875,229.66796875,1307.789703862276,229.66796875,1328.830433021259" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="234.66796875" y="1193.248046875" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.185546875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#000000" d="M322.17578125,1136.994140625C322.17578125,1136.994140625,531.1790017660242,1136.994140625,558.835189637041,1136.994140625" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="327.17578125" y="1126.994140625" text-anchor="start" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" stroke-width="1"><tspan dy="5.259765625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#000000" d="M601.84375,1155.244140625C601.84375,1155.244140625,601.84375,1279.785797612276,601.84375,1300.826526771259" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M735.00390625,690.4921875C735.00390625,690.4921875,735.00390625,1065.740234375,735.00390625,1065.740234375C735.00390625,1065.740234375,229.66796875,1065.740234375,229.66796875,1065.740234375C229.66796875,1065.740234375,229.66796875,1081.11367893219,229.66796875,1087.7494821492583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj118)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>